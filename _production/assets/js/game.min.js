!function(){Game={orientated:!1,debug:!1}}(),Game.preloadItems=[],Game.preloadItems.push({type:"image",name:"pad",path:"assets/images/gamePad/buttonpad-base.png"}),Game.preloadItems.push({type:"image",name:"top",path:"assets/images/gamePad/buttonpad-top.png"}),Game.preloadItems.push({type:"image",name:"left",path:"assets/images/gamePad/buttonpad-left.png"}),Game.preloadItems.push({type:"image",name:"right",path:"assets/images/gamePad/buttonpad-right.png"}),Game.preloadItems.push({type:"image",name:"bottom",path:"assets/images/gamePad/buttonpad-bottom.png"}),Game.preloadItems.push({type:"image",name:"center",path:"assets/images/gamePad/buttonpad-center.png"}),function(){Buttonpad=function(a,b,c){this.game=a,this.xPos=b,this.yPos=c,this.topPressed=!1,this.rightPressed=!1,this.leftPressed=!1,this.bottomPressed=!1,this.centerPressed=!1,this.buttonPushed=0,this.buttonPad=this.game.add.group(),this.create()},Buttonpad.prototype={preload:function(){},create:function(){this.pad=this.game.add.sprite(this.xPos,this.yPos,"pad"),this.pad.anchor.setTo(.5,.5),this.buttonPad.add(this.pad),this.radius=this.pad.width/4,this.top=this.game.add.sprite(this.pad.x,this.yPos-this.pad.height/2,"top"),this.top.anchor.setTo(.5,.5),this.top.inputEnabled=!0,this.buttonPad.add(this.top),this.right=this.game.add.sprite(this.pad.x+this.pad.width/2,this.pad.y,"right"),this.right.anchor.setTo(.5,.5),this.right.inputEnabled=!0,this.buttonPad.add(this.right),this.bottom=this.game.add.sprite(this.pad.x,this.pad.y+this.pad.height/2,"bottom"),this.bottom.anchor.setTo(.5,.5),this.bottom.inputEnabled=!0,this.buttonPad.add(this.bottom),this.left=this.game.add.sprite(this.pad.x-this.pad.width/2,this.pad.y,"left"),this.left.anchor.setTo(.5,.5),this.left.inputEnabled=!0,this.buttonPad.add(this.left),this.center=this.game.add.sprite(this.pad.x,this.pad.y,"center"),this.center.anchor.setTo(.5,.5),this.center.inputEnabled=!0,this.buttonPad.add(this.center),this.game.device.desktop?this.game.input.keyboard.addKeyCapture([Phaser.Keyboard.W,Phaser.Keyboard.D,Phaser.Keyboard.S,Phaser.Keyboard.A,Phaser.Keyboard.X]):(this.top.events.onInputDown.add(this.switchTop,this),this.top.events.onInputUp.add(this.switchTop,this),this.bottom.events.onInputDown.add(this.switchBottom,this),this.bottom.events.onInputUp.add(this.switchBottom,this),this.right.events.onInputDown.add(this.switchRight,this),this.right.events.onInputUp.add(this.switchRight,this),this.left.events.onInputDown.add(this.switchLeft,this),this.left.events.onInputUp.add(this.switchLeft,this),this.center.events.onInputDown.add(this.switchCenter,this),this.center.events.onInputUp.add(this.switchCenter,this))},switchTop:function(){this.topPressed=!this.topPressed},switchRight:function(){this.rightPressed=!this.rightPressed},switchBottom:function(){this.bottomPressed=!this.bottomPressed},switchLeft:function(){this.leftPressed=!this.leftPressed},switchCenter:function(){this.centerPressed=!this.centerPressed},checkTop:function(){return this.topPressed},checkLeft:function(){return this.leftPressed},checkRight:function(){return this.rightPressed},checkBottom:function(){return this.bottomPressed},checkCenter:function(){return this.centerPressed},setToZero:function(){this.buttonPushed=0},getButtonPushed:function(){return this.buttonPushed},update:function(){this.game.device.desktop&&(game.input.keyboard.isDown(Phaser.Keyboard.W)?this.topPressed=!0:this.topPressed=!1,game.input.keyboard.isDown(Phaser.Keyboard.D)?this.rightPressed=!0:this.rightPressed=!1,game.input.keyboard.isDown(Phaser.Keyboard.X)?this.bottomPressed=!0:this.bottomPressed=!1,game.input.keyboard.isDown(Phaser.Keyboard.A)?this.leftPressed=!0:this.leftPressed=!1,game.input.keyboard.isDown(Phaser.Keyboard.S)?this.centerPressed=!0:this.centerPressed=!1)},fixToCamera:function(){this.buttonPad.fixedToCamera=!0},getButtonpad:function(){return this.buttonPad},showButtonpad:function(){this.buttonPad.alpha=1},hideButtonpad:function(){this.buttonPad.alpha=0}}}(),Game.preloadItems.push({type:"image",name:"base",path:"assets/images/gamePad/joystick-base.png"}),Game.preloadItems.push({type:"image",name:"stick",path:"assets/images/gamePad/joystick-stick.png"}),function(){Joystick=function(a,b,c,d){this.game=a,this.xPos=b,this.yPos=c,this.pref=d,void 0==this.pref&&(this.pref={}),this.stickSpeed=this.pref.hasOwnProperty("stickSpeed")?this.pref.stickSpeed:2,this.desktopMax=this.pref.hasOwnProperty("desktopMax")?this.pref.desktopMax:50,this.snapBack=this.pref.hasOwnProperty("snapBack")?this.pref.snapBack:!0,this.adjustRadius=this.pref.hasOwnProperty("adjustRadius")?this.pref.adjustRadius:0,this.horzVal,this.vertVal,this.currPointer,this.joyStick=this.game.add.group(),this.desktopHorz=0,this.desktopVert=0,this.create()},Joystick.prototype={preload:function(){},create:function(){this.base=this.game.add.sprite(this.xPos,this.yPos,"base"),this.base.anchor.setTo(.5,.5),this.joyStick.add(this.base),this.radius=this.base.width/2,this.stick=this.game.add.sprite(this.xPos,this.yPos,"stick"),this.stick.anchor.setTo(.5,.5),this.joyStick.add(this.stick),this.stick.x=this.base.x,this.stick.y=this.base.y,this.game.device.desktop&&(this.cursors=this.game.input.keyboard.createCursorKeys())},render:function(){this.game.debug.spriteBounds(this.base),this.game.debug.spriteBounds(this.stick)},update:function(){switch(this.game.device.desktop){case!0:this.cursors.left.isDown&&this.desktopHorz>-1*this.desktopMax?this.desktopHorz-=this.stickSpeed:this.cursors.right.isDown&&this.desktopHorz<this.desktopMax&&(this.desktopHorz+=this.stickSpeed),this.cursors.up.isDown&&this.desktopVert>-1*this.desktopMax?this.desktopVert-=this.stickSpeed:this.cursors.down.isDown&&this.desktopVert<this.desktopMax&&(this.desktopVert+=this.stickSpeed),this.cursors.left.isDown||this.cursors.right.isDown||this.cursors.up.isDown||this.cursors.down.isDown||(this.desktopHorz=0,this.desktopVert=0),this.horzVal=this.desktopHorz/this.desktopMax,this.vertVal=this.desktopVert/this.desktopMax;break;case!1:this.currPointer=this.game.input.pointer1.x<=game.world.width/2?this.game.input.pointer1:this.game.input.pointer2,this.movable=this.limit(this.base.x,this.base.y,this.currPointer.x,this.currPointer.y,this.radius-this.adjustRadius),this.stickPos=this.inputTouch(this.movable),this.stick.x=this.stickPos.x,this.stick.y=this.stickPos.y,this.horzVal=this.clamp(Math.floor(100*((this.stick.x-this.base.x)/(this.radius-this.adjustRadius)))/100),this.vertVal=this.clamp(Math.floor(100*((this.stick.y-this.base.y)/(this.radius-this.adjustRadius)))/100)}},clamp:function(a){return Math.min(Math.max(a,-1),1)},inputTouch:function(a){var b=this.stick.x,c=this.stick.y;return a.up&&a.down&&a.left&&a.down&&this.currPointer.active&&(b=this.currPointer.x,c=this.currPointer.y),!this.currPointer.active&&this.snapBack&&(b=this.base.x,c=this.base.y),{x:b,y:c}},inputMouse:function(a){var b=this.stick.x,c=this.stick.y;return a.up&&a.down&&a.left&&a.down&&this.game.input.mousePointer.isDown&&(b=this.game.input.activePointer.x-this.stick.width/2,c=this.game.input.activePointer.y-this.stick.height/2),!this.game.input.mousePointer.isDown&&this.snapBack&&(b=this.base.x-this.stick.width/2,c=this.base.y-this.stick.height/2),{x:b,y:c}},limit:function(a,b,c,d,e){var f=c-a,g=d-b,h=f*f+g*g;if(e*e>=h)return{up:!0,down:!0,right:!0,left:!0};Math.sqrt(h);return{up:g>0,down:0>g,right:0>f,left:f>0}},fixToCamera:function(){this.joyStick.fixedToCamera=!0},getHorzVal:function(){return this.horzVal},getVertVal:function(){return this.vertVal},getJoystick:function(){return this.joyStick},showJoystick:function(){this.joyStick.alpha=1},hideJoystick:function(){this.joyStick.alpha=0}}}(),function(){GameInterface=function(a,b,c){this.game=a,this.stickSpeed=b,this.snapBack=c,this["interface"]=this.game.add.group(),this.joyStick=null,this.buttonPad=null,this.scoreMessage=null,this.rocketLifeMessage=null,this.powerBlasterMessage=null,this.shieldMessage=null,this.fpsText=null,this.create()},GameInterface.prototype={create:function(){this.fpsText=this.game.add.bitmapText(500,600,"mainFont","FPS: 0",22),this["interface"].add(this.fpsText),this.joyStick=new Joystick(this.game,125,game.world.height-125,{stickSpeed:this.stickSpeed,snapBack:this.snapBack,adjustRadius:45}),this["interface"].add(this.joyStick.getJoystick()),this.buttonPad=new Buttonpad(this.game,900,game.world.height-125),this["interface"].add(this.buttonPad.getButtonpad()),this.scoreMessage=this.game.add.bitmapText(25,25,"mainFont","Score: 000",22),this["interface"].add(this.scoreMessage),this.powerBlasterMessage=this.game.add.bitmapText(215,25,"mainFont","Power Blaster Level: 100%",22),this["interface"].add(this.powerBlasterMessage),this.shieldMessage=this.game.add.bitmapText(540,25,"mainFont","Shield Level: 100%",22),this["interface"].add(this.shieldMessage),this.rocketLifeMessage=this.game.add.bitmapText(830,25,"mainFont","Rytar Life: 100%",22),this["interface"].add(this.rocketLifeMessage)},hideInterface:function(){this["interface"].alpha=0},showInterface:function(){this["interface"].alpha=1},fixedToCamera:function(){this["interface"].fixedToCamera=!0},update:function(){this.joyStick.update(),this.buttonPad.update()},render:function(){this.joyStick.render()},getHorzVal:function(){return this.joyStick.getHorzVal()},getVertVal:function(){return this.joyStick.getVertVal()},getButtonPushed:function(){return this.buttonPad.getButtonPushed()},setScoreMessage:function(a){this.scoreMessage.setText("Score: "+a)},setPowerBlasterMessage:function(a){this.powerBlasterMessage.setText("Power Blaster Level: "+a+"%")},setShieldMessage:function(a){this.shieldMessage.setText("Shield Level: "+a+"%")},setHeroLifeMessage:function(a){this.rocketLifeMessage.setText("Rytar Life: "+a+"%")},setFPSMessage:function(a){this.fpsText.setText("FPS: "+a)}}}(),function(){Parallax=function(a){this.game=a,this.paraImages=[],this.imageWidth=[],this.bench=null,this.sA=[]},Parallax.prototype.add=function(a,b,c){if(this.pref=c,void 0===this.pref&&(this.pref={}),this.tile=this.pref.hasOwnProperty("tile")?this.pref.tile:1,this.Ypos=this.pref.hasOwnProperty("y")?this.pref.y:0,this.tile>1){for(this.group=game.add.group(),this.group.createMultiple(this.tile,a,1,!0),count=0;count<this.group.length;count++)this.group.getAt(count).x=this.group.getAt(0).width*count,this.group.getAt(count).y=this.Ypos;this.paraImages[this.paraImages.length]=this.group,this.imageWidth.push(this.group.getAt(0).width*this.tile)}else this.paraImages[this.paraImages.length]=this.game.add.sprite(0,this.Ypos,a),this.imageWidth.push(this.paraImages[this.paraImages.length-1].width);this.paraImages[this.paraImages.length-1].fixedToCamera=!0,b&&(this.benchImage=this.paraImages[this.paraImages.length-1],this.bench=this.imageWidth[this.imageWidth.length-1])},Parallax.prototype.update=function(){for(count=0;count<this.paraImages.length;count++)v=(this.imageWidth[count]-this.game.camera.width)/(this.bench-this.game.camera.width),this.paraImages[count].cameraOffset.x=-1*this.game.camera.x*v},Parallax.prototype.getBench=function(){return this.benchImage}}(),function(){Game.State=function(){}}(),function(){Game.State.Boot=function(a){this.game=a},Game.State.Boot.prototype.preload=function(){this.game.stage.disableVisibilityChange=!0,this.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.scale.minWidth=480,this.scale.minHeight=260,this.scale.maxWidth=1024,this.scale.maxHeight=672,this.scale.pageAlignHorizontally=!0,this.scale.pageAlignVertically=!0,this.stage.forcePortrait=!1,this.stage.backgroundColor="#111111",this.input.addPointer(),this.game.load.image("nonsenseLogo","assets/images/nonsense/nonsenseLogo.gif"),this.game.load.image("preloaderBar","assets/images/nonsense/loadbar.gif")},Game.State.Boot.prototype.create=function(){this.game.state.add("Preloader",Game.State.Preloader),this.game.state.add("MainMenu",Game.State.MainMenu),this.game.state.add("Play",Game.State.Play),this.state.start("Preloader")},Game.State.Boot.prototype.gameResized=function(a,b){},Game.State.Boot.prototype.enterIncorrectOrientation=function(){BasicGame.orientated=!1,document.getElementById("orientation").style.display="block"},Game.State.Boot.prototype.leaveIncorrectOrientation=function(){BasicGame.orientated=!0,document.getElementById("orientation").style.display="none"}}(),function(){Game.preloadItems.push({type:"spriteSheet",name:"begin-butt",path:"assets/images/nonsense/begin.png",width:300,height:45,frameCount:3}),Game.State.MainMenu=function(a){this.game=a,this.playButton=null},Game.State.MainMenu.prototype.create=function(){this.nonsenseLogo=this.game.add.sprite(0,0,"nonsenseLogo"),this.nonsenseLogo.x=this.game.width/2-this.nonsenseLogo.width/2,this.nonsenseLogo.y=this.game.height/2-this.nonsenseLogo.height,this.preloadBar=this.game.add.sprite(0,0,"preloaderBar"),this.preloadBar.x=this.nonsenseLogo.x,this.preloadBar.y=this.nonsenseLogo.y+this.nonsenseLogo.height,this.playButton=this.game.add.button(0,0,"begin-butt",this.startGame,this,2,1,0),this.playButton.x=this.game.width/2-this.playButton.width/2,this.playButton.y=this.preloadBar.y+this.preloadBar.height},Game.State.MainMenu.prototype.startGame=function(a){this.state.start("Play")}}(),function(){Game.preloadItems.push({type:"font",name:"mainFont",path:"assets/fonts/font.png",xml:"assets/fonts/font.fnt"}),Game.preloadItems.push({type:"image",name:"layer0",path:"assets/images/landscape/layer0.png"}),Game.preloadItems.push({type:"image",name:"layer1",path:"assets/images/landscape/layer1.png"}),Game.preloadItems.push({type:"image",name:"layer2",path:"assets/images/landscape/layer2.png"}),Game.preloadItems.push({type:"image",name:"layer3",path:"assets/images/landscape/layer3.png"}),Game.State.Play=function(a){this.game=a,this.rocket=null,this.rocketMaxLife=null,this.rocketCurrentLife=null,this.parallax=null,this.gameInterface=null,this.frame=null,this.numOfHumans=null,this.humanGroup=null,this.numOfEnemies=null,this.enemyGroup=null,this.motherShip=null,this.levelStage="showRocket",this.bulletTime=0,this.bullets=null,this.bullet=null,this.score=null,this.maxShieldPower=null,this.shieldPower=this.maxShieldPower,this.shieldDrain=null,this.powerBlastChargedAt=null,this.powerBlastAmount=this.powerBlastChargedAt,this.enemySpeed=null,this.enemySpeedIncrease=null,this.enemyMaxHealth=null,this.topAction=null,this.bottomAction=null,this.rightAction=null,this.leftAction=null,this.centerAction=null,this.checkUFOCountTime=null,this.levelLength=null,this.motherShipSpeed=null,this.laserDamageRate=null,this.shieldDamageRate=null,this.powerBlastDamageRate=null,this.rocketDamageRate=null,this.groundLevel=null},Game.State.Play.prototype.create=function(){for(this.game.time.advancedTiming=!0,this.parallax=new Parallax(this.game),this.setLevelParams(),this.game.physics.startSystem(Phaser.Physics.ARCADE),this.game.world.setBounds(0,0,1269*(4*this.levelLength),672),this.createBackground(),this.setFriendSpacing(this.game.world.width/(this.numOfHumans+1)),this.friendGroup=this.game.add.group(),this.friendGroup.enableBody=!0,this.friendGroup.physicsBodyType=Phaser.Physics.ARCADE,this.enemyGroup=this.game.add.group(),this.enemyGroup.enableBody=!0,this.enemyGroup.physicsBodyType=Phaser.Physics.ARCADE,this.mothership=new Game.MotherShip(this),game.add.existing(this.mothership),this.game.physics.arcade.enable(this.mothership,Phaser.Physics.ARCADE),this.gameInterface=new GameInterface(this.game,2,!0),this.gameInterface.fixedToCamera(),this.bullets=this.game.add.group(),this.bullets.enableBody=!0,this.bullets.physicsBodyType=Phaser.Physics.ARCADE,count=0;count<=30;count++)this.laser=new Game.Rocket.Laser(this),this.laser.setDamageRate(this.laserDamageRate),this.laser.kill(),this.bullets.add(game.add.existing(this.laser));this.bullets.setAll("outOfBoundsKill",!0),this.bullets.setAll("checkWorldBounds",!0),this.weaponGroup=this.game.add.group(),this.weaponGroup.enableBody=!0,this.weaponGroup.physicsBodyType=Phaser.Physics.ARCADE,this.powerBlast=new Game.Rocket.powerBlast(this),this.powerBlast.setDamageRate(this.powerBlastDamageRate),game.add.existing(this.powerBlast),this.powerBlast.hide(),this.weaponGroup.add(this.powerBlast),this.rightAction=this.powerBlast,this.shield=new Game.Rocket.shield(this),this.shield.setDamageRate(this.shieldDamageRate),game.add.existing(this.shield),this.shield.hide(),this.weaponGroup.add(this.shield),this.leftAction=this.shield,this.rocket=new Game.Rocket(this),this.rocket.health=this.heroMaxLife,this.rocket.setDamageRate(this.rocketDamageRate),game.add.existing(this.rocket),this.game.physics.arcade.enable(this.rocket,Phaser.Physics.ARCADE),this.createMultiFriends(this.numOfHumans),this.createMultiEnemies(this.numOfEnemies,Game.EnemySaucer),this.game.time.events.loop(this.checkUFOCountTime,this.checkUFOcount,this),Game.debug=!1},Game.State.Play.prototype.setLevelParams=function(){this.levelLength=1,this.numOfEnemies=7,this.numOfHumans=6,this.UFOSpeed=100,this.score=0,this.maxShieldPower=500,this.shieldPower=this.maxShieldPower,this.shieldDrain=5,this.powerBlastChargedAt=1e3,this.powerBlastAmount=this.powerBlastChargedAt,this.UFOkillCount=0,this.ufoSpeedIncrease=1.25,this.heroMaxLife=1e3,this.enemyMaxHealth=100,this.laserDamageRate=100,this.shieldDamageRate=100,this.powerBlastDamageRate=100,this.rocketDamageRate=100,this.heroCurrentLife=this.heroMaxLife,this.checkUFOCountTime=3e3,this.motherShipSpeed=3,this.groundLevel=520},Game.State.Play.prototype.update=function(){"play"!=this.levelStage?this.introAnimation():(this.shieldPower<this.maxShieldPower&&(this.shieldPower++,this.gameInterface.setShieldMessage(Math.round(this.shieldPower/this.maxShieldPower*100))),this.powerBlastAmount<this.powerBlastChargedAt&&(this.powerBlastAmount++,this.gameInterface.setPowerBlasterMessage(Math.round(this.powerBlastAmount/this.powerBlastChargedAt*100)))),this.parallax.update(),this.gameInterface.update(),this.gameInterface.buttonPad.checkRight()?this.rightAction.activate():this.rightAction.deactivate(),this.gameInterface.buttonPad.checkLeft()?this.leftAction.activate():this.leftAction.deactivate(),this.gameInterface.buttonPad.checkCenter()&&this.fireWeapon(),this.game.physics.arcade.overlap(this.bullets,this.enemyGroup,this.collisionHandler,null,this),this.game.physics.arcade.overlap(this.friendGroup,this.enemyGroup,this.backToShip,null,this),this.game.physics.arcade.overlap(this.mothership,this.enemyGroup,this.enemyHome,null,this),this.game.physics.arcade.overlap(this.rocket,this.enemyGroup,this.rocketCollision,null,this),this.game.physics.arcade.overlap(this.weaponGroup,this.enemyGroup,this.weaponCollision,null,this),this.game.physics.arcade.overlap(this.rocket,this.mothership,this.rocketMotherCollision,null,this),this.gameInterface.setFPSMessage(this.game.time.fps)},Game.State.Play.prototype.render=function(){Game.debug&&(this.game.debug.cameraInfo(this.game.camera,32,32),this.game.debug.pointer(game.input.mousePointer),this.game.debug.pointer(game.input.pointer1),this.game.debug.pointer(game.input.pointer2),this.game.debug.pointer(game.input.pointer3))},Game.State.Play.prototype.checkUFOcount=function(){reviveMe=this.enemyGroup.getFirstDead(),reviveMe&&this.reviveEnemy(reviveMe)},Game.State.Play.prototype.fireWeapon=function(){this.game.time.now>this.bulletTime&&(this.rocket.fireWeapon(),this.bulletTime=game.time.now+400)},Game.State.Play.prototype.createBackground=function(){this.parallax.add("layer0",!1),this.parallax.add("layer1",!1,{tile:this.levelLength}),this.parallax.add("layer2",!1,{tile:this.levelLength}),this.parallax.add("layer3",!0,{tile:this.levelLength}),this.frame=this.game.add.sprite(0,0,"frame"),this.frame.fixedToCamera=!0},Game.State.Play.prototype.quitGame=function(a){this.game.state.start("MainMenu",!0,!1)},Game.State.Play.prototype.introAnimation=function(){this.rocket.x<this.game.camera.width/2?this.rocket.x+=10:(this.levelStage="play",this.game.camera.follow(this.rocket))}}(),function(){Game.State.Play.prototype.weaponCollision=function(a,b){b.onHit(a.getDamageRate())},Game.State.Play.prototype.rocketCollision=function(a,b){a.damage(b.getDamageRate()),this.gameInterface.setHeroLifeMessage(Math.round(a.health/this.heroMaxLife*100)),b.onHit(a.getDamageRate())},Game.State.Play.prototype.rocketMotherCollision=function(a,b){this.shield.isShieldOn()||(a.damage(b.getDamageRate()),this.gameInterface.setHeroLifeMessage(Math.round(a.health/this.heroMaxLife*100)))},Game.State.Play.prototype.collisionHandler=function(a,b){a.kill(),b.onHit(a.getDamageRate())},Game.State.Play.prototype.backToShip=function(a,b){a.y==this.groundLevel&&(a.setCurrentState("humanCaptured"),b.setCurrentState("backToMother"),b.switchHasHuman())},Game.State.Play.prototype.enemyHome=function(a,b){b.hasHuman&&(b.myHuman.destroy(),b.damage(b.health),b.clean(),b.setCurrentState("whatDoIDo"))}}(),function(){Game.State.Play.prototype.createFriend=function(){this.friend=new Game.Human(this,this.friendPos*(this.friendGroup.length+1)),this.friendGroup.add(game.add.existing(this.friend))},Game.State.Play.prototype.createMultiFriends=function(a){for(count=0;count<a;count++)this.createFriend()},Game.State.Play.prototype.createEnemy=function(a){this.enemy=new a(this),this.enemy.health=this.enemyMaxHealth,this.enemyGroup.add(game.add.existing(this.enemy)),this.enemy.onCreate()},Game.State.Play.prototype.createMultiEnemies=function(a,b){for(count=0;count<a;count++)this.createEnemy(b)},Game.State.Play.prototype.reviveEnemy=function(a){a.revive(),a.reset(this.mothership.x,this.mothership.y,this.enemyMaxHealth),a.onCreate()},Game.State.Play.prototype.setFriendSpacing=function(a){this.friendPos=a}}(),function(){Game.preloadItems.push({type:"image",name:"enemySaucer",path:"assets/images/enemySaucer.png"}),Game.preloadItems.push({type:"jsonHash",name:"alienSaucer",image:"assets/images/alienSaucer.png",jsonData:"assets/images/alienSaucer.json"}),Game.EnemySaucer=function(a){this.level=a,this.damageRate=10,this.whatDoIDo=new Game.EnemySaucer.Idle(this),this.chaseHuman=new Game.EnemySaucer.ChaseHuman(this),this.chaseRocket=new Game.EnemySaucer.ChaseRocket(this),this.backToMother=new Game.EnemySaucer.BackToMother(this),this.currentState=this.whatDoIDo,this.rocket=null,this.hasHuman=!1,this.myHuman=null,Phaser.Sprite.call(this,this.level.game,this.level.mothership.x,this.level.mothership.y,"alienSaucer"),this.anchor.setTo(.5,.5),this.name="enemySaucer",this.animations.add("fly",[0,1,2,3,4,5,6,7,8,9,10]),this.frame=0,this.span=(550-this.level.mothership.y)/21},Game.EnemySaucer.prototype=Object.create(Phaser.Sprite.prototype),Game.EnemySaucer.prototype.constructor=Game.EnemySaucer,Game.EnemySaucer.prototype.update=function(){var a=Math.floor(this.y/this.span);a>20&&(a=20),this.frame=a,this.currentState.update()},Game.EnemySaucer.prototype.getDamageRate=function(){return this.damageRate},Game.EnemySaucer.prototype.setHuman=function(a){this.myHuman=a},Game.EnemySaucer.prototype.setHero=function(){this.rocket=this.level.rocket},Game.EnemySaucer.prototype.setCurrentState=function(a){this.currentState=this[a]},Game.EnemySaucer.prototype.setName=function(a){this.name=a},Game.EnemySaucer.prototype.switchHasHuman=function(){this.hasHuman=!this.hasHuman},Game.EnemySaucer.prototype.clean=function(){this.hasHuman=!1,this.rocket=null,this.myHuman=null},Game.EnemySaucer.prototype.onCreate=function(){for(chaseRocket=!0,count=0;count<this.level.friendGroup.length;count++)if(null===this.level.friendGroup.getAt(count).ufo){this.setHuman(this.level.friendGroup.getAt(count)),this.level.friendGroup.getAt(count).setUFO(this),this.setCurrentState("chaseHuman"),chaseRocket=!1;break}chaseRocket&&(this.setHero(),this.setCurrentState("chaseRocket"))},Game.EnemySaucer.prototype.onHit=function(a){this.damage(a),this.alive||(null!==this.myHuman&&(this.myHuman.setCurrentState("humanFall"),this.myHuman.ufo=null),this.clean(),this.setCurrentState("whatDoIDo"),this.level.UFOkillCount<this.level.numOfEnemies?this.level.UFOkillCount++:(this.level.UFOkillCount=0,this.level.UFOSpeed=this.level.UFOSpeed*this.level.ufoSpeedIncrease),this.level.score++,this.level.gameInterface.setScoreMessage(this.level.score))}}(),function(){Game.EnemySaucer.BackToMother=function(a){this.ufo=a,this.stateName="BackToMother"},Game.EnemySaucer.BackToMother.prototype.update=function(){this.mothership=this.ufo.level.mothership;var a=this.ufo.game.math.angleBetween(this.ufo.x,this.ufo.y,this.mothership.x,this.mothership.y);this.ufo.body.velocity.x=Math.cos(a)*this.ufo.level.UFOSpeed,this.ufo.body.velocity.y=Math.sin(a)*this.ufo.level.UFOSpeed}}(),function(){Game.EnemySaucer.ChaseHuman=function(a){this.ufo=a,this.stateName="chaseHuman"},Game.EnemySaucer.ChaseHuman.prototype.update=function(){var a=this.ufo.game.math.angleBetween(this.ufo.x,this.ufo.y,this.ufo.myHuman.x,this.ufo.myHuman.y);this.ufo.body.velocity.x=Math.cos(a)*this.ufo.level.UFOSpeed,this.ufo.body.velocity.y=Math.sin(a)*this.ufo.level.UFOSpeed}}(),function(){Game.EnemySaucer.ChaseRocket=function(a){this.ufo=a,this.stateName="chaseHero"},Game.EnemySaucer.ChaseRocket.prototype.update=function(){var a=this.ufo.game.math.angleBetween(this.ufo.x,this.ufo.y,this.ufo.rocket.x,this.ufo.rocket.y);this.ufo.body.velocity.x=Math.cos(a)*this.ufo.level.UFOSpeed,this.ufo.body.velocity.y=Math.sin(a)*this.ufo.level.UFOSpeed}}(),function(){Game.EnemySaucer.Idle=function(a){this.ufo=a,this.stateName="idle"},Game.EnemySaucer.Idle.prototype.update=function(){}}(),function(){Game.preloadItems.push({type:"jsonHash",name:"humans",image:"assets/images/humans.png",jsonData:"assets/images/humans.json"}),Game.Human=function(a,b){this.level=a,this.orgX=b,this.walkingRange=400,this.ufo=null,this.humanCaptured=new Game.Human.Captured(this),this.humanFall=new Game.Human.Fall(this),this.humanWalking=new Game.Human.Walking(this),this.currentState=this.humanWalking,this.level.friendGroup.length>0?(Phaser.Sprite.call(this,this.level.game,this.orgX,this.level.groundLevel,"humans"),this.animations.add("walk",[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19],25,!0),this.animations.add("captured",[0],25,!0)):(Phaser.Sprite.call(this,this.level.game,this.orgX,this.level.groundLevel,"humans"),this.animations.add("walk",[21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46],25,!0),this.animations.add("captured",[20],25,!0)),this.anchor.setTo(.5,0),this.name="human"},Game.Human.prototype=Object.create(Phaser.Sprite.prototype),Game.Human.prototype.constructor=Game.Human,Game.Human.prototype.update=function(){this.currentState.update()},Game.Human.prototype.setCurrentState=function(a){this.currentState=this[a]},Game.Human.prototype.setName=function(a){this.name=a},Game.Human.prototype.setOrgX=function(a){this.orgX=a},Game.Human.prototype.setUFO=function(a){this.ufo=a}}(),function(){Game.Human.Captured=function(a){this.human=a,this.stateName="humanCaptured"},Game.Human.Captured.prototype.update=function(){this.human.x=this.human.ufo.x,this.human.y=this.human.ufo.y+50,this.human.animations.play("captured")}}(),function(){Game.Human.Fall=function(a){this.human=a,this.stateName="humanFall"},Game.Human.Fall.prototype.update=function(){this.human.y<this.human.level.groundLevel&&(this.human.y+5<this.human.level.groundLevel?this.human.y+=5:this.human.y=this.human.level.groundLevel),this.human.y==this.human.level.groundLevel&&(this.human.animations.play("walk"),this.human.x<this.human.orgX&&(this.human.scale.x=1,this.human.x+1.5<this.human.orgX?this.human.x+=1.5:this.human.x=this.human.orgX),this.human.x>this.human.orgX&&(this.human.scale.x=-1,this.human.x-1.5>this.human.orgX?this.human.x-=1.5:this.human.x=this.human.orgX),this.human.x==this.human.orgX&&(this.human.setCurrentState("humanWalking"),this.human.currentState.setDirection(1)))}}(),function(){Game.Human.Walking=function(a){this.human=a,this.walkDirection=1,this.stateName="humanWalking"},Game.Human.Walking.prototype.update=function(){this.human.animations.play("walk"),this.human.x+=1.5*this.walkDirection,Math.abs(this.human.orgX-this.human.x)>=this.human.walkingRange/2&&(this.walkDirection=-1*this.walkDirection,this.human.scale.x=-1*this.human.scale.x)},Game.Human.Walking.prototype.setDirection=function(a){this.walkDirection=a,this.human.scale.x=a}}(),function(){Game.preloadItems.push({type:"image",name:"motherShip",path:"assets/images/motherShip.png"}),Game.MotherShip=function(a){this.level=a,this.damageRate=20,Phaser.Sprite.call(this,this.level.game,this.level.game.world.width/2,75,"motherShip"),this.anchor.setTo(.5,.5),this.name="motherShip",this.speed=this.level.motherShipSpeed},Game.MotherShip.prototype=Object.create(Phaser.Sprite.prototype),Game.MotherShip.prototype.constructor=Game.MotherShip,Game.MotherShip.prototype.update=function(){this.x+=this.speed,(this.x<250||this.x>this.game.world.width-250)&&(this.speed=-1*this.speed)},Game.MotherShip.prototype.getDamageRate=function(){return this.damageRate},Game.MotherShip.prototype.onHit=function(a){}}(),function(){Game.preloadItems.push({type:"image",name:"rocket",path:"assets/images/rocketShip.png"}),Game.Rocket=function(a){this.level=a,this.damageRate=null,this.gameInterface=this.level.gameInterface,Phaser.Sprite.call(this,this.level.game,0,this.level.game.world.height/2-50,"rocket"),this.anchor.setTo(.5,.5),this.name="rocket"},Game.Rocket.prototype=Object.create(Phaser.Sprite.prototype),Game.Rocket.prototype.constructor=Game.Rocket,Game.Rocket.prototype.update=function(){var a=this.gameInterface.getHorzVal(),b=this.gameInterface.getVertVal();0>a?this.scale.x=-1:a>0&&(this.scale.x=1),this.x+=15*a,this.x<130&&(this.x=130),this.x>this.level.game.world.width-this.width/2&&(this.x=this.level.game.world.width-this.width/2),this.y+=15*b,this.y<50&&(this.y=50),this.y>this.level.game.world.height-this.height/2&&(this.y=this.level.game.world.height-this.height/2)},Game.Rocket.prototype.fireWeapon=function(){bullet=this.level.bullets.getFirstExists(!1),direction=this.scale.x,bullet&&(bullet.reset(this.x+100*direction,this.y-30),bullet.scale.x=direction,bullet.body.velocity.x=2400*direction)},Game.Rocket.prototype.getDamageRate=function(){return this.damageRate},Game.Rocket.prototype.setDamageRate=function(a){this.damageRate=a}}(),function(){Game.preloadItems.push({type:"image",name:"bullet",path:"assets/images/bullet.png"}),Game.Rocket.Laser=function(a){this.level=a,this.damageRate=null,Phaser.Sprite.call(this,this.level.game,0,0,"bullet"),this.anchor.setTo(0,.5),this.name="laser"},Game.Rocket.Laser.prototype=Object.create(Phaser.Sprite.prototype),Game.Rocket.Laser.prototype.constructor=Game.Rocket.Laser,Game.Rocket.Laser.prototype.update=function(){},Game.Rocket.Laser.prototype.activate=function(){},Game.Rocket.Laser.prototype.deactivate=function(){},Game.Rocket.Laser.prototype.getDamageRate=function(){return this.damageRate},Game.Rocket.Laser.prototype.setDamageRate=function(a){this.damageRate=a}}(),function(){Game.preloadItems.push({type:"image",name:"powerBlast",path:"assets/images/powerBlast.png"}),Game.Rocket.powerBlast=function(a){this.level=a,this.damageRate=null,Phaser.Sprite.call(this,this.level.game,-100,-100,"powerBlast"),this.anchor.setTo(.5,.5),this.name="powerBlast"},Game.Rocket.powerBlast.prototype=Object.create(Phaser.Sprite.prototype),Game.Rocket.powerBlast.prototype.constructor=Game.Rocket.powerBlast,Game.Rocket.powerBlast.prototype.update=function(){},Game.Rocket.powerBlast.prototype.activate=function(){this.level.powerBlastAmount===this.level.powerBlastChargedAt&&(this.fire(),this.level.powerBlastAmount=0,this.level.gameInterface.setPowerBlasterMessage(this.level.powerBlastAmount))},Game.Rocket.powerBlast.prototype.deactivate=function(){},Game.Rocket.powerBlast.prototype.hide=function(){this.scale.x=.1,this.scale.y=.1},Game.Rocket.powerBlast.prototype.fire=function(){posX=this.level.rocket.x,posY=this.level.rocket.y;this.level.game.add.tween(this).to({x:posX,y:posY},1,Phaser.Easing.Linear.None).to({x:posX,y:posY},500,Phaser.Easing.Linear.None).to({x:-100,y:-100},1,Phaser.Easing.Linear.None).start(),this.level.game.add.tween(this.scale).to({
x:1,y:1},250,Phaser.Easing.Linear.None).to({x:1,y:1},250,Phaser.Easing.Linear.None).to({x:.1,y:.1},10,Phaser.Easing.Linear.None).start(),this.level.game.add.tween(this).to({alpha:1},250,Phaser.Easing.Linear.None).to({alpha:0},250,Phaser.Easing.Linear.None).start()},Game.Rocket.powerBlast.prototype.getDamageRate=function(){return this.damageRate},Game.Rocket.powerBlast.prototype.setDamageRate=function(a){this.damageRate=a}}(),function(){Game.preloadItems.push({type:"image",name:"shield",path:"assets/images/shield.png"}),Game.Rocket.shield=function(a){this.level=a,this.damageRate=null,this.shieldOn=!1,Phaser.Sprite.call(this,this.level.game,-100,-100,"shield"),this.anchor.setTo(.5,.5),this.name="shield"},Game.Rocket.shield.prototype=Object.create(Phaser.Sprite.prototype),Game.Rocket.shield.prototype.constructor=Game.Rocket.shield,Game.Rocket.shield.prototype.update=function(){this.isShieldOn()?this.revive():this.kill(),this.position.copyFrom(this.level.rocket.position)},Game.Rocket.shield.prototype.activate=function(){this.level.shieldPower-=this.level.shieldDrain,this.level.shieldPower<0&&(this.level.shieldPower=0),this.level.shieldPower>0?this.on():this.off(),this.level.gameInterface.setShieldMessage(Math.round(this.level.shieldPower/this.level.maxShieldPower*100))},Game.Rocket.shield.prototype.deactivate=function(){this.isShieldOn()&&this.off()},Game.Rocket.shield.prototype.hide=function(){this.scale.x=.1,this.scale.y=.1},Game.Rocket.shield.prototype.on=function(){this.level.game.add.tween(this.scale).to({x:1,y:1},250,Phaser.Easing.Linear.None).to({x:1,y:1},250,Phaser.Easing.Linear.None).start(),this.level.game.add.tween(this).to({alpha:1},250,Phaser.Easing.Linear.None).start();this.shieldOn=!0},Game.Rocket.shield.prototype.off=function(){this.level.game.add.tween(this.scale).to({x:.1,y:.1},250,Phaser.Easing.Linear.None).to({x:.1,y:.1},250,Phaser.Easing.Linear.None).start(),this.level.game.add.tween(this).to({alpha:0},250,Phaser.Easing.Linear.None).start();this.shieldOn=!1},Game.Rocket.shield.prototype.isShieldOn=function(){return this.shieldOn},Game.Rocket.shield.prototype.getDamageRate=function(){return this.damageRate},Game.Rocket.shield.prototype.setDamageRate=function(a){this.damageRate=a}}(),function(){Game.State.Preloader=function(a){this.game=a,this.nonsenseLogo=null,this.preloadBar=null},Game.State.Preloader.prototype.preload=function(){for(this.nonsenseLogo=this.game.add.sprite(0,0,"nonsenseLogo"),this.nonsenseLogo.x=this.game.width/2-this.nonsenseLogo.width/2,this.nonsenseLogo.y=this.game.height/2-this.nonsenseLogo.height,this.preloadBar=this.game.add.sprite(0,0,"preloaderBar"),this.preloadBar.x=this.nonsenseLogo.x,this.preloadBar.y=this.nonsenseLogo.y+this.nonsenseLogo.height,this.load.setPreloadSprite(this.preloadBar),count=0;count<Game.preloadItems.length;count++)switch(Game.preloadItems[count].type){case"image":this.game.load.image(Game.preloadItems[count].name,Game.preloadItems[count].path);break;case"spriteSheet":this.game.load.spritesheet(Game.preloadItems[count].name,Game.preloadItems[count].path,Game.preloadItems[count].width,Game.preloadItems[count].height,Game.preloadItems[count].frameCount);break;case"audio":this.game.load.audio(Game.preloadItems[count].name,Game.preloadItems[count].path);break;case"font":this.game.load.bitmapFont(Game.preloadItems[count].name,Game.preloadItems[count].path,Game.preloadItems[count].xml);break;case"atlas":this.game.load.atlasXML(Game.preloadItems[count].name,Game.preloadItems[count].path,Game.preloadItems[count].xml);break;case"text":this.game.load.text(Game.preloadItems[count].name,Game.preloadItems[count].path);break;case"tilemap":this.game.load.tilemap(Game.preloadItems[count].name,Game.preloadItems[count].path,null,Phaser.Tilemap.TILED_JSON);break;case"jsonHash":this.game.load.atlasJSONHash(Game.preloadItems[count].name,Game.preloadItems[count].image,Game.preloadItems[count].jsonData)}},Game.State.Preloader.prototype.create=function(){this.preloadBar.cropEnabled=!1},Game.State.Preloader.prototype.update=function(){this.state.start("MainMenu")}}(),function(){game=new Phaser.Game(1024,672,Phaser.AUTO,"game"),game.state.add("Boot",Game.State.Boot),game.state.start("Boot")}();